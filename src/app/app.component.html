<mat-sidenav-container *ngIf="loggedIn">
  <mat-sidenav #sidenav>
    <mat-toolbar color="primary">
      <div fxFlex fxLayout fxLayoutAlign="end">
        <button mat-icon-button (click)="sidenav.toggle()">
          <mat-icon>close</mat-icon>
        </button>
      </div>
    </mat-toolbar>
    <mat-nav-list>
      <a mat-list-item [routerLink]="'decks'"> Decks </a>
      <a mat-list-item [routerLink]="['/decks', -1]"> Create </a>
      <a mat-list-item href="#"> Stats </a>
      <a mat-list-item href="#"> Recommendations </a>
      <a mat-list-item (click)="signOut()"> Sign Out </a>
    </mat-nav-list>
  </mat-sidenav>



  <mat-sidenav-content>
    <mat-toolbar color="primary" style="position: fixed; z-index: 100">
      <div fxHide.gt-xs>
        <button mat-icon-button (click)="sidenav.toggle()">
          <mat-icon>menu</mat-icon>
        </button>
      </div>
      <div fxFlex fxHide.xs>
        <img class="magic-nav-logo" src="assets/magic-logo.webp" alt="Commander" loading="lazy"
        [routerLink]="''">
      </div>
      <div fxFlex fxLayout fxLayoutAlign="end" fxHide.xs>
        <button mat-button class="nav-button" [routerLink]="'decks'">
          Decks
        </button>
        <button mat-button class="nav-button" [routerLink]="['/decks', -1]">
          Create
        </button>
        <button mat-button class="nav-button">
          Stats
        </button>
        <button mat-button class="nav-button">
          Recs
        </button>
        <button mat-button class="nav-button" (click)="signOut()">
          Sign Out
        </button>
        <button
          mat-icon-button
          (click)="toggleDarkTheme()"
          class="theme-toggle"
          aria-label="Toggle Dark Theme">
          <mat-icon>{{ isDark ? "dark_mode" : "light_mode" }}</mat-icon>
        </button>
      </div>
      <div fxFlex fxLayout fxLayoutAlign="end" fxHide.gt-xs>
        <button
          mat-icon-button
          (click)="toggleDarkTheme()"
          class="theme-toggle"
          aria-label="Toggle Dark Theme">
          <mat-icon>{{ isDark ? "dark_mode" : "light_mode" }}</mat-icon>
        </button>
      </div>
    </mat-toolbar>
    <main style="margin-top: 80px;">
      <body class="mat-typography mat-app-background">
        <router-outlet></router-outlet>
      </body>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>

<mat-sidenav-container *ngIf="!loggedIn">
  <mat-sidenav #sidenav>
    <mat-toolbar color="primary">
      <div fxFlex fxLayout fxLayoutAlign="end">
        <button mat-icon-button (click)="sidenav.toggle()">
          <mat-icon>close</mat-icon>
        </button>
      </div>
    </mat-toolbar>
    <mat-nav-list>
      <a mat-list-item [routerLink]="'login'">Log In</a>
    </mat-nav-list>
  </mat-sidenav>



  <mat-sidenav-content>
    <mat-toolbar color="primary" style="position: fixed; z-index: 100">
      <div fxHide.gt-xs>
        <button mat-icon-button (click)="sidenav.toggle()">
          <mat-icon>menu</mat-icon>
        </button>
      </div>
      <div fxFlex fxHide.xs>
        <img class="magic-nav-logo" src="assets/magic-logo.webp" alt="Commander" loading="lazy"
             [routerLink]="''">
      </div>
      <div fxFlex fxLayout fxLayoutAlign="end" fxHide.xs>
        <button mat-button class="nav-button" [routerLink]="'login'">
          Log In
        </button>
        <button
          mat-icon-button
          (click)="toggleDarkTheme()"
          class="theme-toggle"
          aria-label="Toggle Dark Theme">
          <mat-icon>{{ isDark ? "dark_mode" : "light_mode" }}</mat-icon>
        </button>
      </div>
      <div fxFlex fxLayout fxLayoutAlign="end" fxHide.gt-xs>
        <button
          mat-icon-button
          (click)="toggleDarkTheme()"
          class="theme-toggle"
          aria-label="Toggle Dark Theme">
          <mat-icon>{{ isDark ? "dark_mode" : "light_mode" }}</mat-icon>
        </button>
      </div>
    </mat-toolbar>
    <main style="margin-top: 80px;">
      <body class="mat-typography mat-app-background">
      <app-login></app-login>
      </body>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
