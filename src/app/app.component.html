<mat-sidenav-container *ngIf="loggedIn">
  <mat-sidenav #sidenav>
    <mat-toolbar color="primary">
      <div fxFlex fxLayout fxLayoutAlign="end">
        <button mat-icon-button (click)="sidenav.toggle()">
          <mat-icon>close</mat-icon>
        </button>
      </div>
    </mat-toolbar>
    <mat-nav-list>
      <a mat-list-item [routerLink]="'/decks/all'"> All Decks </a>
      <a mat-list-item [routerLink]="'/decks'"> My Decks </a>
      <a mat-list-item [routerLink]="'/bans'"> Ban List </a>
      <a mat-list-item [routerLink]="['/decks', -1]"> Create </a>
      <a mat-list-item [routerLink]="['/stats']"> Stats </a>
      <a mat-list-item [routerLink]="['/recs']"> Recommendations </a>
      <a *ngIf="isAdmin()" mat-list-item [routerLink]="['/wins']"> Record Match </a>
      <a mat-list-item [routerLink]="['/imports']"> Import Decks </a>
      <a mat-list-item (click)="signOut()"> Sign Out </a>
    </mat-nav-list>
  </mat-sidenav>



  <mat-sidenav-content>
    <mat-toolbar color="primary" style="position: fixed; z-index: 100">
      <div fxHide.gt-xs>
        <button mat-icon-button (click)="sidenav.toggle()">
          <mat-icon>menu</mat-icon>
        </button>
      </div>
      <div fxFlex fxHide.xs>
        <img class="magic-nav-logo" src="assets/magic-logo.webp" alt="Commander" loading="lazy"
        [routerLink]="''">
      </div>
      <div fxFlex fxLayout fxLayoutAlign="end" fxHide.xs>
        <button mat-button class="nav-button" [routerLink]="'/decks/all'">
          All Decks
        </button>
        <button mat-button class="nav-button" [routerLink]="'/decks'">
          My Decks
        </button>
        <button mat-button class="nav-button" [routerLink]="'/bans'">
          Ban List
        </button>
        <button mat-button class="nav-button" [routerLink]="['/decks', -1]">
          Create
        </button>
        <button mat-button class="nav-button" [routerLink]="['/stats']">
          Stats
        </button>
        <button mat-button class="nav-button" [routerLink]="['/recs']">
          Recs
        </button>
        <button *ngIf="isAdmin()" mat-button class="nav-button" [routerLink]="['/wins']">
          Record Match
        </button>
        <button mat-button class="nav-button" [routerLink]="['/imports']">
          Import
        </button>
        <button mat-button class="nav-button" (click)="signOut()">
          Sign Out
        </button>
        <button
          mat-icon-button
          (click)="toggleDarkTheme()"
          class="theme-toggle"
          aria-label="Toggle Dark Theme">
          <mat-icon>{{ isDark ? "dark_mode" : "light_mode" }}</mat-icon>
        </button>
      </div>
      <div fxFlex fxLayout fxLayoutAlign="end" fxHide.gt-xs>
        <button
          mat-icon-button
          (click)="toggleDarkTheme()"
          class="theme-toggle"
          aria-label="Toggle Dark Theme">
          <mat-icon>{{ isDark ? "dark_mode" : "light_mode" }}</mat-icon>
        </button>
      </div>
    </mat-toolbar>
    <main style="margin-top: 80px;">
      <body class="mat-typography mat-app-background">
        <router-outlet></router-outlet>
      </body>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>

<mat-sidenav-container *ngIf="!loggedIn">
  <mat-sidenav #sidenav>
    <mat-toolbar color="primary">
      <div fxFlex fxLayout fxLayoutAlign="end">
        <button mat-icon-button (click)="sidenav.toggle()">
          <mat-icon>close</mat-icon>
        </button>
      </div>
    </mat-toolbar>
    <mat-nav-list>
      <a mat-list-item [routerLink]="'/login'">Log In</a>
    </mat-nav-list>
  </mat-sidenav>



  <mat-sidenav-content>
    <mat-toolbar color="primary" style="position: fixed; z-index: 100">
      <div fxHide.gt-xs>
        <button mat-icon-button (click)="sidenav.toggle()">
          <mat-icon>menu</mat-icon>
        </button>
      </div>
      <div fxFlex fxHide.xs>
        <img class="magic-nav-logo" src="assets/magic-logo.webp" alt="Commander" loading="lazy"
             [routerLink]="''">
      </div>
      <div fxFlex fxLayout fxLayoutAlign="end" fxHide.xs>
        <button mat-button class="nav-button" [routerLink]="'/login'">
          Log In
        </button>
        <button
          mat-icon-button
          (click)="toggleDarkTheme()"
          class="theme-toggle"
          aria-label="Toggle Dark Theme">
          <mat-icon>{{ isDark ? "dark_mode" : "light_mode" }}</mat-icon>
        </button>
      </div>
      <div fxFlex fxLayout fxLayoutAlign="end" fxHide.gt-xs>
        <button
          mat-icon-button
          (click)="toggleDarkTheme()"
          class="theme-toggle"
          aria-label="Toggle Dark Theme">
          <mat-icon>{{ isDark ? "dark_mode" : "light_mode" }}</mat-icon>
        </button>
      </div>
    </mat-toolbar>
    <main style="margin-top: 80px;">
      <body class="mat-typography mat-app-background">
      <router-outlet></router-outlet>
      </body>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
